/**
 * Mars3D平台插件,结合heatmap可视化功能插件  mars3d-heatmap
 *
 * 版本信息：v3.3.5
 * 编译日期：2022-04-12 17:45:49
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：深圳市城市交通规划设计研究中心股份有限公司 ，2022-04-12
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mars3d || require('mars3d')), (window.h337 || require('@mars3d/heatmap.js'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mars3d', '@mars3d/heatmap.js'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-heatmap"] = {}, global.mars3d, global.h337));
})(this, (function (exports, mars3d, h337) { 
'use strict';var _0xd1007a=_0x425d;(function(_0xa75820,_0x242c86){var _0x30e3d1=_0x425d,_0x5f22de=_0xa75820();while(!![]){try{var _0x1fa78c=parseInt(_0x30e3d1(0x21a))/0x1*(parseInt(_0x30e3d1(0x24b))/0x2)+-parseInt(_0x30e3d1(0x280))/0x3+-parseInt(_0x30e3d1(0x1f3))/0x4+-parseInt(_0x30e3d1(0x22c))/0x5*(parseInt(_0x30e3d1(0x25c))/0x6)+-parseInt(_0x30e3d1(0x1fd))/0x7*(parseInt(_0x30e3d1(0x234))/0x8)+-parseInt(_0x30e3d1(0x26f))/0x9*(parseInt(_0x30e3d1(0x24d))/0xa)+parseInt(_0x30e3d1(0x1f2))/0xb;if(_0x1fa78c===_0x242c86)break;else _0x5f22de['push'](_0x5f22de['shift']());}catch(_0x4ac12f){_0x5f22de['push'](_0x5f22de['shift']());}}}(_0x3f1b,0xe9d36));function _0x3f1b(){var _0x51863e=['quXxqvLt','zM9YrwfJAa','Cg9PBNrZ','tgf5zxjvDgLS','CMDIkdi1nsWYntuSmJu1kq','ChvZAa','y2fSBa','BwfYCZnKlwHLyxrTyxa','u3rLBMnPBe9WzxjHDgLVBG','CMfKAxvZ','oWOGicaGicaGicaGicbWicS9DMvJncHKAxnqB3mSmc4WktSkicaGicaGicaGicaGz2XFug9ZAxrPB24GpsbJEM1FBw9KzwXwAwv3uhjVAMvJDgLVBLjLBgf0AxzLvg9fEwuGkIbWoWOGicaGicaGicaGFqOGicaGicaGia','y3nZvgv4Da','zMX5vg8','mZm0ntq0mK1NsLvdqW','ywjZ','mJG3mZe0mfHACMPnvG','y3jLyxrL','zgvMyxvSDa','yM9KEq','uMvJDgfUz2XLuhjPBwL0AxzL','x2XHEwvY','x3vWzgf0zvbVC2L0Aw9UC0HVB2S','ug9PBNruCMfUCW','B2jQzwn0','DMfSDwvpzG','zgvMyxvSDfzHBhvL','x2HLyxq','C2v0uhjVDg90ExbLt2y','x3jLy3rHBMDSzq','Bg5N','mJm5mtC4CwD5uMr1','vKvsvevyx0zpuK1bva','AxngB3jTyxq','Aw1Hz2uVCg5N','twf0zxjPywW','y29UzMLNDxjL','DgHPCYbOyxnUj3qGyMvLBIbPBML0AwfSAxnLzcaTihn1CgvYkcKGAgfZBID0igjLzw4Gy2fSBgvK','BgvUz3rO','y2XLyxi','qMfZzuXHEwvY','z2v0uMvJDgfUz2XL','x2nYzwf0zuDYyxbOAwm','z2v0uhjVDg90ExbLt2y','Eg1HEa','ChG7','BwvYz2u','zgL2','x3bVC2L0Aw9UCW','x21VDw50zwriB29R','ndv0ENzUuLa','CMvTB3zLr3jHCgHPyW','rg9TvxrPBa','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9YCW','x19WCM90B19F','x2XHC3rFBujVDw5KCW','zgvMAw5LuhjVCgvYDgLLCW','q29SB3i','yMX1CG','x21HCa','Bwf4','zgvMAw5LuhjVCgvYDhK','Bg9UBgf0mM1LCMnHDg9Y','DMfSDwu','ywrKug9ZAxrPB24','z3jHzgLLBNrbCMm','Bwf4q2fUDMfZu2L6zq','mZq0ntaWnxnizxbSua','yxbWBhK','CMvTB3zLq2HPBgq','BwvYy2f0B3iYBg9UBgf0','CMvJDgfUz2XL','CM91BMq','y29UC3rYDwn0','quXqsefFqKXftKq','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9Y','x2XHC3rFAgvHDerHDge','ntGXmdu5odjZrvLSwu0','mJC1mtq3mLLAEurRvW','x2nYzwf0zufYy0DYyxbOAwm','y2fUDMfZ','yMX1zq','BwLU','AgvHDa','CMvTB3zLtgf5zxi','CMDIkde0mcWXndaSmtqWkq','zgLMzKHLAwDODa','D3jPDgfIBgu','n2TYs1PTuW','x3jLBw92zwriB29R','y29UDgfPBMvY','C2HVDW','yxr0CMLIDxrLihzLyZmGCg9ZAxrPB24ZreHPz2G7cIaGicaGicaGicbHDhrYAwj1DguGDMvJmYbWB3nPDgLVBJnetg93oWOGicaGicaGicaGyxr0CMLIDxrLihzLyZiGC3q7cIaGicaGicaGicbHDhrYAwj1DguGzMXVyxqGyMf0y2HjzdSkicaGicaGicaGihvUAwzVCM0GC2fTCgXLCJjeigj1BxbnyxbFmZSkicaGicaGicaGihzHCNLPBMCGDMvJmYb2x3bVC2L0Aw9Utum7cIaGicaGicaGicb2yxj5Aw5NihzLyZmGDL9WB3nPDgLVBKvdoWOGicaGicaGicaGDMfYEwLUzYb2zwmYihzFC3q7cGOGicaGicaGicaGDM9PzcbTywLUkcKkicaGicaGicaGihSkicaGicaGicaGicaGDMvJncbWid0Gy3PTx2nVBxb1DgvqB3nPDgLVBIGPoWOGicaGicaGicaGicb2x3bVC2L0Aw9UtumGpsbWB3nPDgLVBJnesgLNAcaRihbVC2L0Aw9Um0rmB3C7cIaGicaGicaGicaGihzFCg9ZAxrPB25fqYa9icHJEM1FBw9KzwXwAwv3uMvSyxrPDMvuB0v5zsaQihaPlNH5EJSkicaGicaGicaGicaGDL9ZDca9ihn0oWOGicaGicaGicaGicb2zwm0ignVBg9Yid0GDgv4DhvYztjekgj1BxbnyxbFmYWGDL9ZDcK7cIaGicaGicaGicaGigzSB2f0ignLBNrLCKj1BxaGpsbKAxn0yw5JzsH2zwmZkdaUmcKSy29SB3iUCMDIktSkicaGicaGicaGicaGDMvJmYb1CerPCIa9ig5VCM1HBgL6zsH2x3bVC2L0Aw9UtumUEhL6ktSkicaGicaGicaGicaGDMvJmYbKAxnqB3mGpsb1CerPCIaQignLBNrLCKj1BxaGkIa','zw51BwvYywjSzq','zMXVB3i','C3r5Bgu','y2XPzw50sgvPz2H0','z3jHCgHPyW','zMLSDgvY','D2LKDgG','A2v5CW','Bgf0','yxjJqMX1CLnJywXL','Dg9eyxrHvvjm','AgvPz2H0','Dw5KzwzPBMvK','y2XPzw50v2LKDgG','cIaGicaGicaGBwfYz2LUoJa7cIaGicaGicaGD2LKDgG6','x19LC01VzhvSzq','BwLUq2fUDMfZu2L6zq','vxrPBa','x21cB3vUzhnnyxG','ChjVDg90ExbL','z3jLzw4','Dw5PzM9YBsbZyw1WBgvYmKqGAw1Hz2u7cMn6Bv9TyxrLCMLHBcbJEM1Fz2v0twf0zxjPywWOy3PTx21HDgvYAwfSsw5WDxqGBwf0zxjPywXjBNb1DcL7cIaGy3PTx21HDgvYAwfSig1HDgvYAwfSid0Gy3PTx2DLDerLzMf1BhrnyxrLCMLHBcHTyxrLCMLHBeLUChv0ktSkicb2zwmYihn0id0GBwf0zxjPywXjBNb1Dc5ZDdSkicb2zwm0ignVBg9Ysw1Hz2uGpsb0zxH0DxjLmKqOAw1Hz2uSC3qPoWOGigLMkgnVBg9Ysw1Hz2uUCMDIid09ihzLyZmOms4Wksb8FcbJB2XVCKLTywDLlNjNyIa9psb2zwmZkdaUmcKPEWOGicaGzgLZy2fYzdSkicb9cIaGBwf0zxjPywWUzgLMzNvZzsa9ignVBg9Ysw1Hz2uUCMDIoWOGig1HDgvYAwfSlMfSCgHHid0Gy29SB3jjBwfNzs5HoWOGihjLDhvYBIbTyxrLCMLHBdSkFqO','z2v0','x21HCNmZzf9WCML2yxrL','mu54AuzYsa','u3rLBMnPBez1BMn0Aw9U','zMX5vg9cEufUAw1HDgLVBKvUza','x2fKzgvKsg9VAW','C3bSAxroDw0','B3b0Aw9UCW','Bgf5zxi','s0vfua','q2fYDgvZAwfUmG','ChG7cIaGicaGicaGAgvPz2H0oG','u3vWzxiGzxHWCMvZC2LVBIbTDxn0igvPDgHLCIbIzsbUDwXSig9YigeGzNvUy3rPB24','A2v5','uMvJDgfUz2XL','Ew1HEa','z2v0t3DUuhjVCgvYDhLtEw1IB2XZ','AgvHDfn0EwXL','y29Uy2f0','Ew1PBG','mta1zgPnzgTm','Eg1PBG','CMDIkdaSmcWWkq','yxjJ','r3jHCgHPy0XHEwvY','Cg9ZAxrPB25Z','ywrKtgf5zxi','C2v0rgf0yq','mtuWotK0otzZvLrUuu4','rwXSAxbZB2LKu3vYzMfJzufWCgvHCMfUy2u','x2DLDeHLyxrdyw52yxnjBwC','CMvK','q2vZAxvT','x3jLBMrLCMvY','qMXLBMrPBMDtDgf0zq','uKvqtefdrq','zNjVBurLz3jLzxm','x2DYyxbOAwm'];_0x3f1b=function(){return _0x51863e;};return _0x3f1b();}function _interopNamespace(_0x171662){var _0x2c8773=_0x425d;if(_0x171662&&_0x171662[_0x2c8773(0x211)])return _0x171662;var _0x13198e=Object[_0x2c8773(0x24e)](null);return _0x171662&&Object[_0x2c8773(0x209)](_0x171662)[_0x2c8773(0x23f)](function(_0x96f7ca){var _0x25bc29=_0x2c8773;if(_0x96f7ca!=='default'){var _0x22f16a=Object[_0x25bc29(0x1f0)](_0x171662,_0x96f7ca);Object[_0x25bc29(0x27a)](_0x13198e,_0x96f7ca,_0x22f16a[_0x25bc29(0x218)]?_0x22f16a:{'enumerable':!![],'get':function(){return _0x171662[_0x96f7ca];}});}}),_0x13198e[_0x2c8773(0x24f)]=_0x171662,_0x13198e;}var mars3d__namespace=_interopNamespace(mars3d),h337__namespace=_interopNamespace(h337);function ownKeys(_0x3f93fd,_0x35729f){var _0x327b7a=_0x425d,_0x2a60a9=Object[_0x327b7a(0x209)](_0x3f93fd);if(Object[_0x327b7a(0x228)]){var _0xfbfea7=Object['getOwnPropertySymbols'](_0x3f93fd);_0x35729f&&(_0xfbfea7=_0xfbfea7[_0x327b7a(0x207)](function(_0xa1e6e6){var _0x206859=_0x327b7a;return Object[_0x206859(0x1f0)](_0x3f93fd,_0xa1e6e6)[_0x206859(0x202)];})),_0x2a60a9[_0x327b7a(0x243)][_0x327b7a(0x281)](_0x2a60a9,_0xfbfea7);}return _0x2a60a9;}function _objectSpread2(_0x520fc6){var _0x5da759=_0x425d;for(var _0x221ff7=0x1;_0x221ff7<arguments[_0x5da759(0x263)];_0x221ff7++){var _0x5237ee=null!=arguments[_0x221ff7]?arguments[_0x221ff7]:{};_0x221ff7%0x2?ownKeys(Object(_0x5237ee),!0x0)[_0x5da759(0x23f)](function(_0x70f03f){_defineProperty(_0x520fc6,_0x70f03f,_0x5237ee[_0x70f03f]);}):Object['getOwnPropertyDescriptors']?Object[_0x5da759(0x275)](_0x520fc6,Object[_0x5da759(0x272)](_0x5237ee)):ownKeys(Object(_0x5237ee))['forEach'](function(_0x2fd881){var _0x3f1322=_0x5da759;Object[_0x3f1322(0x27a)](_0x520fc6,_0x2fd881,Object[_0x3f1322(0x1f0)](_0x5237ee,_0x2fd881));});}return _0x520fc6;}function _classCallCheck(_0x3d664f,_0x3499fc){if(!(_0x3d664f instanceof _0x3499fc))throw new TypeError('Cannot\x20call\x20a\x20class\x20as\x20a\x20function');}function _defineProperties(_0x50179d,_0x5711ee){var _0x23f8ea=_0x425d;for(var _0x385e2c=0x0;_0x385e2c<_0x5711ee[_0x23f8ea(0x263)];_0x385e2c++){var _0x563da9=_0x5711ee[_0x385e2c];_0x563da9[_0x23f8ea(0x202)]=_0x563da9['enumerable']||![],_0x563da9['configurable']=!![];if(_0x23f8ea(0x27c)in _0x563da9)_0x563da9[_0x23f8ea(0x1fc)]=!![];Object[_0x23f8ea(0x27a)](_0x50179d,_0x563da9[_0x23f8ea(0x225)],_0x563da9);}}function _createClass(_0x33a89c,_0x5ac91c,_0x4d3943){var _0x3ff0b7=_0x425d;if(_0x5ac91c)_defineProperties(_0x33a89c['prototype'],_0x5ac91c);if(_0x4d3943)_defineProperties(_0x33a89c,_0x4d3943);return Object[_0x3ff0b7(0x27a)](_0x33a89c,_0x3ff0b7(0x215),{'writable':![]}),_0x33a89c;}function _defineProperty(_0x24b06a,_0x18e28a,_0x56c1a4){return _0x18e28a in _0x24b06a?Object['defineProperty'](_0x24b06a,_0x18e28a,{'value':_0x56c1a4,'enumerable':!![],'configurable':!![],'writable':!![]}):_0x24b06a[_0x18e28a]=_0x56c1a4,_0x24b06a;}function _inherits(_0x27df72,_0x13d7fd){var _0x4b1053=_0x425d;if(typeof _0x13d7fd!=='function'&&_0x13d7fd!==null)throw new TypeError(_0x4b1053(0x224));_0x27df72[_0x4b1053(0x215)]=Object[_0x4b1053(0x24e)](_0x13d7fd&&_0x13d7fd['prototype'],{'constructor':{'value':_0x27df72,'writable':!![],'configurable':!![]}}),Object[_0x4b1053(0x27a)](_0x27df72,_0x4b1053(0x215),{'writable':![]});if(_0x13d7fd)_setPrototypeOf(_0x27df72,_0x13d7fd);}function _0x425d(_0x280d28,_0x29ac11){var _0x3f1b50=_0x3f1b();return _0x425d=function(_0x425d2a,_0x3196ed){_0x425d2a=_0x425d2a-0x1ea;var _0x3244c8=_0x3f1b50[_0x425d2a];if(_0x425d['pybwoh']===undefined){var _0x4abfb0=function(_0x171662){var _0x13198e='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';var _0x96f7ca='',_0x22f16a='';for(var _0x3f93fd=0x0,_0x35729f,_0x2a60a9,_0xfbfea7=0x0;_0x2a60a9=_0x171662['charAt'](_0xfbfea7++);~_0x2a60a9&&(_0x35729f=_0x3f93fd%0x4?_0x35729f*0x40+_0x2a60a9:_0x2a60a9,_0x3f93fd++%0x4)?_0x96f7ca+=String['fromCharCode'](0xff&_0x35729f>>(-0x2*_0x3f93fd&0x6)):0x0){_0x2a60a9=_0x13198e['indexOf'](_0x2a60a9);}for(var _0xa1e6e6=0x0,_0x520fc6=_0x96f7ca['length'];_0xa1e6e6<_0x520fc6;_0xa1e6e6++){_0x22f16a+='%'+('00'+_0x96f7ca['charCodeAt'](_0xa1e6e6)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x22f16a);};_0x425d['RxCCBU']=_0x4abfb0,_0x280d28=arguments,_0x425d['pybwoh']=!![];}var _0x2d7096=_0x3f1b50[0x0],_0x3ad119=_0x425d2a+_0x2d7096,_0x5c6a9e=_0x280d28[_0x3ad119];return!_0x5c6a9e?(_0x3244c8=_0x425d['RxCCBU'](_0x3244c8),_0x280d28[_0x3ad119]=_0x3244c8):_0x3244c8=_0x5c6a9e,_0x3244c8;},_0x425d(_0x280d28,_0x29ac11);}function _getPrototypeOf(_0x4e5f97){var _0x5554c2=_0x425d;return _getPrototypeOf=Object[_0x5554c2(0x259)]?Object[_0x5554c2(0x268)]:function _0xd74a65(_0x5374d6){var _0x10ad0f=_0x5554c2;return _0x5374d6[_0x10ad0f(0x273)]||Object[_0x10ad0f(0x268)](_0x5374d6);},_getPrototypeOf(_0x4e5f97);}function _setPrototypeOf(_0x221819,_0x415a3d){return _setPrototypeOf=Object['setPrototypeOf']||function _0x2ed277(_0x6a2ce2,_0x19420f){var _0x1e78c0=_0x425d;return _0x6a2ce2[_0x1e78c0(0x273)]=_0x19420f,_0x6a2ce2;},_setPrototypeOf(_0x221819,_0x415a3d);}function _isNativeReflectConstruct(){var _0x5db6ed=_0x425d;if(typeof Reflect===_0x5db6ed(0x20e)||!Reflect[_0x5db6ed(0x1ee)])return![];if(Reflect['construct']['sham'])return![];if(typeof Proxy==='function')return!![];try{return Boolean['prototype'][_0x5db6ed(0x256)][_0x5db6ed(0x244)](Reflect[_0x5db6ed(0x1ee)](Boolean,[],function(){})),!![];}catch(_0x24d569){return![];}}function _assertThisInitialized(_0x78f281){var _0x5842d1=_0x425d;if(_0x78f281===void 0x0)throw new ReferenceError(_0x5842d1(0x262));return _0x78f281;}function _possibleConstructorReturn(_0x39022d,_0x255b70){var _0x19f97e=_0x425d;if(_0x255b70&&(typeof _0x255b70===_0x19f97e(0x255)||typeof _0x255b70==='function'))return _0x255b70;else{if(_0x255b70!==void 0x0)throw new TypeError('Derived\x20constructors\x20may\x20only\x20return\x20object\x20or\x20undefined');}return _assertThisInitialized(_0x39022d);}function _createSuper(_0x21af71){var _0x2ebd7f=_isNativeReflectConstruct();return function _0x8b3222(){var _0x3c5259=_0x425d,_0x5cd7da=_getPrototypeOf(_0x21af71),_0x276319;if(_0x2ebd7f){var _0x578d4c=_getPrototypeOf(this)['constructor'];_0x276319=Reflect[_0x3c5259(0x1ee)](_0x5cd7da,arguments,_0x578d4c);}else _0x276319=_0x5cd7da[_0x3c5259(0x281)](this,arguments);return _possibleConstructorReturn(this,_0x276319);};}var HeatMaterial=_0xd1007a(0x217),Cesium=mars3d__namespace[_0xd1007a(0x238)],BaseLayer=mars3d__namespace[_0xd1007a(0x220)][_0xd1007a(0x265)],DEF_HEATSTYLE={'maxOpacity':0.8,'minOpacity':0.1,'blur':0.85,'radius':0x19,'gradient':{0.4:_0xd1007a(0x1f6),0.6:_0xd1007a(0x216),0.8:'yellow',0.9:_0xd1007a(0x237)}},DEF_STYLE={'arcRadiusScale':1.5,'arcBlurScale':1.5,'vertexFormat':Cesium[_0xd1007a(0x235)][_0xd1007a(0x25d)]},HeatLayer=function(_0xf30446){var _0xbaab0f=_0xd1007a;_inherits(_0x49fadc,_0xf30446);var _0x5c97d4=_createSuper(_0x49fadc);function _0x49fadc(){var _0x16b14d=_0x425d,_0x4ab648,_0x21d118=arguments['length']>0x0&&arguments[0x0]!==undefined?arguments[0x0]:{};return _classCallCheck(this,_0x49fadc),_0x4ab648=_0x5c97d4['call'](this,_0x21d118),_0x4ab648[_0x16b14d(0x21f)][_0x16b14d(0x27f)]=Cesium[_0x16b14d(0x257)](_0x4ab648[_0x16b14d(0x21f)][_0x16b14d(0x27f)],document[_0x16b14d(0x250)][_0x16b14d(0x20f)]),_0x4ab648[_0x16b14d(0x21f)]['maxCanvasSize']=Math[_0x16b14d(0x1f7)](_0x4ab648[_0x16b14d(0x21f)][_0x16b14d(0x27f)],0x1388),_0x4ab648[_0x16b14d(0x21f)][_0x16b14d(0x212)]=Cesium[_0x16b14d(0x257)](_0x4ab648[_0x16b14d(0x21f)][_0x16b14d(0x212)],document[_0x16b14d(0x250)][_0x16b14d(0x205)]),_0x4ab648[_0x16b14d(0x21f)]['minCanvasSize']=Math[_0x16b14d(0x279)](_0x4ab648[_0x16b14d(0x21f)][_0x16b14d(0x212)],0x2bc),_0x4ab648[_0x16b14d(0x21f)]['heatStyle']=_objectSpread2(_objectSpread2({},DEF_HEATSTYLE),_0x4ab648[_0x16b14d(0x21f)]['heatStyle']||{}),_0x4ab648[_0x16b14d(0x21f)][_0x16b14d(0x204)]=_objectSpread2(_objectSpread2({},DEF_STYLE),_0x4ab648[_0x16b14d(0x21f)][_0x16b14d(0x204)]||{}),_0x4ab648;}return _createClass(_0x49fadc,[{'key':_0xbaab0f(0x220),'get':function _0x5c2301(){var _0x4a9349=_0xbaab0f;return this[_0x4a9349(0x252)];}},{'key':_0xbaab0f(0x229),'get':function _0x273db6(){var _0x223556=_0xbaab0f;return this[_0x223556(0x21f)][_0x223556(0x229)];},'set':function _0x59ac3b(_0x29fb4b){var _0x490b67=_0xbaab0f;this[_0x490b67(0x21f)][_0x490b67(0x229)]=mars3d__namespace['Util'][_0x490b67(0x26b)](this[_0x490b67(0x21f)][_0x490b67(0x229)],_0x29fb4b),this[_0x490b67(0x258)]&&this[_0x490b67(0x258)]['configure'](this[_0x490b67(0x21f)][_0x490b67(0x229)]);}},{'key':_0xbaab0f(0x204),'get':function _0xf3cc66(){var _0x2495f9=_0xbaab0f;return this[_0x2495f9(0x21f)]['style'];},'set':function _0x11d67f(_0x46aee3){var _0xf3b4e1=_0xbaab0f;this[_0xf3b4e1(0x21f)]['style']=mars3d__namespace[_0xf3b4e1(0x213)]['merge'](this[_0xf3b4e1(0x21f)]['style'],_0x46aee3);}},{'key':_0xbaab0f(0x231),'get':function _0x456095(){var _0x432444=_0xbaab0f;return this[_0x432444(0x26d)];},'set':function _0x38fcaa(_0x34d7ce){var _0x433a58=_0xbaab0f;this[_0x433a58(0x26d)]=_0x34d7ce,this[_0x433a58(0x253)]();}},{'key':'coordinates','get':function _0x2fc08d(){var _0x38507d=_0xbaab0f,_0x40ed83=[];return this[_0x38507d(0x240)][_0x38507d(0x23f)](function(_0x4df6c2){var _0x5c4881=_0x38507d;_0x40ed83[_0x5c4881(0x243)](_0x4df6c2['toArray']());}),_0x40ed83;}},{'key':_0xbaab0f(0x1ec),'get':function _0x15914d(){var _0xe86daf=_0xbaab0f;return this[_0xe86daf(0x25a)];}},{'key':'_setOptionsHook','value':function _0x5c1f80(_0x390e2e){var _0x11b6ff=_0xbaab0f;_0x390e2e[_0x11b6ff(0x231)]&&(this[_0x11b6ff(0x231)]=_0x390e2e[_0x11b6ff(0x231)]);}},{'key':_0xbaab0f(0x26e),'value':function _0xc62877(){var _0x52e621=_0xbaab0f;this[_0x52e621(0x252)]=new mars3d__namespace['layer'][(_0x52e621(0x230))]({'noLayerManage':!![]}),this[_0x52e621(0x252)][_0x52e621(0x219)]=!![];}},{'key':_0xbaab0f(0x21d),'value':function _0x3fe126(){var _0x172986=_0xbaab0f;this['_map'][_0x172986(0x232)](this[_0x172986(0x252)]),this[_0x172986(0x21f)][_0x172986(0x231)]&&(this[_0x172986(0x231)]=this[_0x172986(0x21f)][_0x172986(0x231)]),this['options'][_0x172986(0x24a)]&&this[_0x172986(0x21c)]();}},{'key':_0xbaab0f(0x1fe),'value':function _0x4615e4(){var _0x380de0=_0xbaab0f;this[_0x380de0(0x229)][_0x380de0(0x1ff)]&&(this['_map'][_0x380de0(0x1ff)][_0x380de0(0x1ea)](this['heatStyle'][_0x380de0(0x1ff)]),delete this[_0x380de0(0x229)][_0x380de0(0x1ff)]),this['clear'](),this[_0x380de0(0x278)][_0x380de0(0x1f9)](this[_0x380de0(0x252)]);}},{'key':_0xbaab0f(0x27d),'value':function _0x55950e(_0x5584ba){var _0xdae24a=_0xbaab0f;this[_0xdae24a(0x26d)]=this[_0xdae24a(0x26d)]||[],this[_0xdae24a(0x26d)][_0xdae24a(0x243)](_0x5584ba),this['_updatePositionsHook']();}},{'key':_0xbaab0f(0x264),'value':function _0x1d41db(){var _0x1c7e5a=_0xbaab0f;this[_0x1c7e5a(0x23d)]&&(this['_layer'][_0x1c7e5a(0x270)](this['_graphic'],!![]),delete this[_0x1c7e5a(0x23d)]);}},{'key':_0xbaab0f(0x253),'value':function _0xabd887(){var _0x4779a7=_0xbaab0f;if(!this[_0x4779a7(0x200)]||!this['_map']||!this[_0x4779a7(0x231)]||this[_0x4779a7(0x231)]['length']===0x0)return this;var _0x36c4b5=this[_0x4779a7(0x236)]();return this[_0x4779a7(0x204)][_0x4779a7(0x22f)]?this[_0x4779a7(0x1f4)](_0x36c4b5):this[_0x4779a7(0x267)](_0x36c4b5),this;}},{'key':'_getHeatCanvasImg','value':function _0x366bb3(){var _0x5c14bf=_0xbaab0f,_0x2d6793,_0x24794a,_0x4cc499=this[_0x5c14bf(0x26d)],_0x21b9e4=[],_0xf1e756,_0x22a3f9,_0x20a6c5,_0x23fa6f;_0x4cc499[_0x5c14bf(0x23f)](function(_0x105d47){var _0xd30705=_0x5c14bf,_0x111a5e=mars3d__namespace['LngLatPoint']['parse'](_0x105d47);if(!_0x111a5e)return;_0x111a5e[_0xd30705(0x27c)]=_0x105d47[_0xd30705(0x27c)]||0x1,_0xf1e756===undefined?(_0xf1e756=_0x111a5e['lng'],_0x22a3f9=_0x111a5e[_0xd30705(0x25b)],_0x20a6c5=_0x111a5e[_0xd30705(0x20a)],_0x23fa6f=_0x111a5e[_0xd30705(0x20a)]):(_0xf1e756=Math['min'](_0xf1e756,_0x111a5e[_0xd30705(0x25b)]),_0x22a3f9=Math[_0xd30705(0x279)](_0x22a3f9,_0x111a5e[_0xd30705(0x25b)]),_0x20a6c5=Math['min'](_0x20a6c5,_0x111a5e[_0xd30705(0x20a)]),_0x23fa6f=Math['max'](_0x23fa6f,_0x111a5e[_0xd30705(0x20a)])),_0x21b9e4['push'](_0x111a5e);});var _0x36e711=this['heatStyle'][_0x5c14bf(0x247)]*1.5,_0x586111={'xmin':_0xf1e756,'xmax':_0x22a3f9,'ymin':_0x20a6c5,'ymax':_0x23fa6f},_0x417de2=getMercatorBounds(_0x586111),_0x304942=Math[_0x5c14bf(0x24c)](_0x417de2['xmax']-_0x417de2[_0x5c14bf(0x22d)]),_0x1916e0=Math[_0x5c14bf(0x24c)](_0x417de2[_0x5c14bf(0x227)]-_0x417de2[_0x5c14bf(0x22b)]),_0x24e2b9=Math[_0x5c14bf(0x279)](_0x304942,_0x1916e0),_0x42ebe8=Math['min'](_0x304942,_0x1916e0);this[_0x5c14bf(0x214)]=_0x24e2b9;var _0x402660=0x1;if(_0x24e2b9>this['options'][_0x5c14bf(0x27f)])_0x402660=_0x24e2b9/this[_0x5c14bf(0x21f)][_0x5c14bf(0x27f)],_0x42ebe8/_0x402660<this['options'][_0x5c14bf(0x212)]&&(_0x402660=_0x42ebe8/this['options'][_0x5c14bf(0x212)]);else _0x42ebe8<this[_0x5c14bf(0x21f)]['minCanvasSize']&&(_0x402660=_0x42ebe8/this['options'][_0x5c14bf(0x212)],_0x24e2b9/_0x402660>this[_0x5c14bf(0x21f)][_0x5c14bf(0x27f)]&&(_0x402660=_0x24e2b9/this['options'][_0x5c14bf(0x27f)]));var _0x42bd51=_0x304942/_0x402660+_0x36e711*0x2,_0x110b62=_0x1916e0/_0x402660+_0x36e711*0x2,_0x17f370=_0x36e711*_0x402660;_0x417de2['xmin']-=_0x17f370,_0x417de2['ymin']-=_0x17f370,_0x417de2['xmax']+=_0x17f370,_0x417de2['ymax']+=_0x17f370,_0x586111=geLatLngBounds(_0x417de2),this[_0x5c14bf(0x25a)]=Cesium[_0x5c14bf(0x226)][_0x5c14bf(0x23c)](_0x586111['xmin'],_0x586111['ymin'],_0x586111[_0x5c14bf(0x269)],_0x586111['ymax']);var _0x6c0221=(_0x2d6793=_0x21b9e4[0x0]['value'])!==null&&_0x2d6793!==void 0x0?_0x2d6793:0x1,_0x171cdd=(_0x24794a=_0x21b9e4[0x0]['value'])!==null&&_0x24794a!==void 0x0?_0x24794a:0x0,_0x1d5669=[];_0x21b9e4['forEach'](function(_0x19b1ca){var _0x2a70ed=_0x5c14bf,_0x584cf3=mars3d__namespace[_0x2a70ed(0x254)]['lonlat2mercator']([_0x19b1ca[_0x2a70ed(0x25b)],_0x19b1ca[_0x2a70ed(0x20a)]]),_0x48cf9f=_0x19b1ca[_0x2a70ed(0x27c)]||0x1,_0x2b06d2=Math[_0x2a70ed(0x1ed)]((_0x584cf3[0x0]-_0x417de2[_0x2a70ed(0x22d)])/_0x402660),_0x2495cb=Math[_0x2a70ed(0x1ed)]((_0x417de2[_0x2a70ed(0x227)]-_0x584cf3[0x1])/_0x402660);_0x6c0221=Math[_0x2a70ed(0x279)](_0x6c0221,_0x48cf9f),_0x171cdd=Math[_0x2a70ed(0x1f7)](_0x171cdd,_0x48cf9f),_0x1d5669[_0x2a70ed(0x243)]({'x':_0x2b06d2,'y':_0x2495cb,'value':_0x48cf9f});});var _0x5da8b7={'min':_0x171cdd,'max':_0x6c0221,'data':_0x1d5669};this[_0x5c14bf(0x1f1)]=_0x5da8b7;(!this[_0x5c14bf(0x274)]||_0x417de2['xmin']!==this[_0x5c14bf(0x274)][_0x5c14bf(0x22d)]||_0x417de2['ymin']!==this[_0x5c14bf(0x274)][_0x5c14bf(0x22b)]||_0x417de2[_0x5c14bf(0x269)]!==this[_0x5c14bf(0x274)]['xmax']||_0x417de2['ymax']!==this[_0x5c14bf(0x274)]['ymax'])&&(this['_last_mBounds']=_0x417de2,!this[_0x5c14bf(0x229)][_0x5c14bf(0x1ff)]&&(this[_0x5c14bf(0x229)][_0x5c14bf(0x1ff)]=mars3d__namespace[_0x5c14bf(0x271)][_0x5c14bf(0x24e)](_0x5c14bf(0x26c),_0x5c14bf(0x245),this['_map']['container'])),this[_0x5c14bf(0x229)][_0x5c14bf(0x1ff)][_0x5c14bf(0x204)][_0x5c14bf(0x249)]=_0x5c14bf(0x210)[_0x5c14bf(0x22a)](_0x42bd51,_0x5c14bf(0x223))[_0x5c14bf(0x22a)](_0x110b62,_0x5c14bf(0x26a)),!this[_0x5c14bf(0x258)]?this[_0x5c14bf(0x258)]=h337__namespace['create'](this[_0x5c14bf(0x229)]):this[_0x5c14bf(0x258)][_0x5c14bf(0x261)](this['heatStyle']));this[_0x5c14bf(0x258)][_0x5c14bf(0x233)](_0x5da8b7);var _0x5b7535=this[_0x5c14bf(0x258)][_0x5c14bf(0x239)]['canvas'][_0x5c14bf(0x20c)](_0x5c14bf(0x25f));return this[_0x5c14bf(0x229)][_0x5c14bf(0x1ff)]&&(this[_0x5c14bf(0x278)][_0x5c14bf(0x1ff)][_0x5c14bf(0x1ea)](this['heatStyle'][_0x5c14bf(0x1ff)]),delete this[_0x5c14bf(0x229)]['container']),_0x5b7535;}},{'key':_0xbaab0f(0x267),'value':function _0x5bf85f(_0x42ec3f){var _0x4efb34=_0xbaab0f;this[_0x4efb34(0x264)](),this[_0x4efb34(0x23d)]=new mars3d__namespace[(_0x4efb34(0x206))]['RectanglePrimitive'](_objectSpread2(_objectSpread2({},this[_0x4efb34(0x21f)]),{},{'rectangle':this[_0x4efb34(0x25a)],'appearance':new Cesium[(_0x4efb34(0x235))]({'material':new Cesium[(_0x4efb34(0x260))]({'fabric':{'uniforms':{'image':_0x42ec3f},'source':HeatMaterial},'translucent':!![]}),'flat':!![]})})),this[_0x4efb34(0x252)]['addGraphic'](this[_0x4efb34(0x23d)]);}},{'key':'_createArcGraphic','value':function _0x1ca440(_0x2702a2){var _0x398ff=_0xbaab0f;this['clear'](),this[_0x398ff(0x258)][_0x398ff(0x261)](_objectSpread2(_objectSpread2({},this[_0x398ff(0x229)]),{},{'radius':this[_0x398ff(0x229)][_0x398ff(0x247)]*this[_0x398ff(0x204)]['arcRadiusScale'],'blur':this[_0x398ff(0x229)][_0x398ff(0x277)]*this[_0x398ff(0x204)][_0x398ff(0x20b)],'gradient':this[_0x398ff(0x229)][_0x398ff(0x27e)]||{0.25:_0x398ff(0x22e),0.55:_0x398ff(0x1fa),0.85:'rgb(216,216,216)',0x1:_0x398ff(0x242)}}));var _0x52e728=this[_0x398ff(0x258)][_0x398ff(0x239)][_0x398ff(0x1f5)][_0x398ff(0x20c)](_0x398ff(0x25f)),_0x49fb5b=Cesium['RenderState']['fromCache']({'cull':{'enabled':!![]},'depthTest':{'enabled':!![]},'stencilTest':{'enabled':!![],'frontFunction':Cesium[_0x398ff(0x21b)][_0x398ff(0x23e)],'frontOperation':{'fail':Cesium['StencilOperation']['KEEP'],'zFail':Cesium[_0x398ff(0x246)][_0x398ff(0x221)],'zPass':Cesium[_0x398ff(0x246)][_0x398ff(0x23b)]},'backFunction':Cesium[_0x398ff(0x21b)][_0x398ff(0x23e)],'backOperation':{'fail':Cesium['StencilOperation']['KEEP'],'zFail':Cesium[_0x398ff(0x246)][_0x398ff(0x221)],'zPass':Cesium[_0x398ff(0x246)][_0x398ff(0x23b)]},'reference':0x2,'mask':0x2},'blending':Cesium[_0x398ff(0x23a)][_0x398ff(0x1ef)]}),_0x33c718=Math[_0x398ff(0x203)](Cesium['defaultValue'](this[_0x398ff(0x204)]['diffHeight'],this['_mBoundsMax']*0.02))+0.1;this[_0x398ff(0x204)][_0x398ff(0x1fb)]&&delete this[_0x398ff(0x204)][_0x398ff(0x1fb)];var _0x1e4a96=Cesium[_0x398ff(0x257)](this['style'][_0x398ff(0x21e)],0x64),_0x3e42d5=Math[_0x398ff(0x279)](this[_0x398ff(0x25a)][_0x398ff(0x20d)],this[_0x398ff(0x25a)][_0x398ff(0x208)]);this[_0x398ff(0x204)]['granularity']=_0x3e42d5/=_0x1e4a96,this[_0x398ff(0x23d)]=new mars3d__namespace[(_0x398ff(0x206))][(_0x398ff(0x251))](_objectSpread2(_objectSpread2({},this[_0x398ff(0x21f)]),{},{'rectangle':this[_0x398ff(0x25a)],'appearance':new Cesium[(_0x398ff(0x235))]({'aboveGround':!![],'renderState':_0x49fb5b,'material':new Cesium[(_0x398ff(0x260))]({'fabric':{'uniforms':{'image':_0x2702a2,'repeat':new Cesium[(_0x398ff(0x222))](0x1,0x1),'color':new Cesium[(_0x398ff(0x276))](0x1,0x1,0x1,0.01),'bumpMap':_0x52e728},'source':HeatMaterial},'translucent':!![]}),'vertexShaderSource':_0x398ff(0x201)[_0x398ff(0x22a)](_0x33c718,_0x398ff(0x248)),'flat':!![]})})),this[_0x398ff(0x252)]['addGraphic'](this[_0x398ff(0x23d)]);}},{'key':_0xbaab0f(0x266),'value':function _0x2ea68f(_0x36a6f8){var _0x460c58=_0xbaab0f;return _0x36a6f8!==null&&_0x36a6f8!==void 0x0&&_0x36a6f8[_0x460c58(0x25e)]&&this[_0x460c58(0x25a)]?mars3d__namespace['PolyUtil']['formatRectangle'](this[_0x460c58(0x25a)]):this[_0x460c58(0x25a)];}}]),_0x49fadc;}(BaseLayer);mars3d__namespace[_0xd1007a(0x220)]['HeatLayer']=HeatLayer,mars3d__namespace[_0xd1007a(0x241)]['register'](_0xd1007a(0x1f8),HeatLayer);function getMercatorBounds(_0x25aa61){var _0x1f0341=_0xd1007a,_0xa1392f=mars3d__namespace[_0x1f0341(0x254)]['lonlat2mercator']([_0x25aa61[_0x1f0341(0x22d)],_0x25aa61[_0x1f0341(0x22b)]]),_0x5e1cf9=mars3d__namespace[_0x1f0341(0x254)][_0x1f0341(0x27b)]([_0x25aa61[_0x1f0341(0x269)],_0x25aa61[_0x1f0341(0x227)]]);return{'xmin':_0xa1392f[0x0],'ymin':_0xa1392f[0x1],'xmax':_0x5e1cf9[0x0],'ymax':_0x5e1cf9[0x1]};}function geLatLngBounds(_0x4f60bf){var _0x273ea3=_0xd1007a,_0x4c0a89=mars3d__namespace[_0x273ea3(0x254)][_0x273ea3(0x1eb)]([_0x4f60bf[_0x273ea3(0x22d)],_0x4f60bf[_0x273ea3(0x22b)]]),_0x31b401=mars3d__namespace[_0x273ea3(0x254)][_0x273ea3(0x1eb)]([_0x4f60bf[_0x273ea3(0x269)],_0x4f60bf['ymax']]);return{'xmin':_0x4c0a89[0x0],'ymin':_0x4c0a89[0x1],'xmax':_0x31b401[0x0],'ymax':_0x31b401[0x1]};}exports['HeatLayer']=HeatLayer,Object[_0xd1007a(0x27a)](exports,_0xd1007a(0x211),{'value':!![]});
}));
